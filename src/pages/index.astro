---
import BaseLayout from '@/layouts/BaseLayout.astro'
import { getCollection } from 'astro:content'

// Get recent journal posts.
const allPosts = await getCollection('blog')
const journalPosts = allPosts
  .filter(post => post.data.category !== 'Links')
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
  .slice(0, 5)
---

<BaseLayout 
  title="Gökhan Turhan"
  description="Strategic Innovation Architect exploring stablecoins, AGI, tokenization, and investment strategies. Turning global systemic challenges into high-leverage opportunities through technology and foresight."
>
  <div class="mx-auto max-w-2xl px-6 py-16 lg:py-24">
    <!-- Bio Section -->
    <section class="mb-16">
      <h1 class="font-serif text-3xl md:text-4xl mb-6 text-foreground">
        Gökhan Turhan
      </h1>
      <div class="prose prose-lg dark:prose-invert max-w-none">
        <p class="text-lg text-muted-foreground leading-relaxed">
          T-shaped generalist exploring stablecoins, DeFi mechanics, and deep tech.
          Currently focused on AGI timelines, tokenization strategies, and turning
          global systemic challenges into high-leverage opportunities.
        </p>
      </div>
    </section>

    <!-- Homepage Cards -->
    <div class="space-y-12">

      <!-- Journal -->
      {journalPosts.length > 0 && (
        <section>
          <h2 class="text-sm font-medium uppercase tracking-wider text-muted-foreground mb-4">
            <a href="/journal/" class="hover:text-foreground">Journal</a>
          </h2>
          <ul class="space-y-2">
            {journalPosts.map((post) => (
              <li>
                <a
                  href={`/journal/${post.slug}/`}
                  class="group flex items-baseline gap-3 py-1"
                >
                  <span class="text-foreground group-hover:underline decoration-1 underline-offset-2">
                    {post.data.title}
                  </span>
                  <span class="text-sm text-muted-foreground shrink-0">
                    {post.data.publishDate.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}
                  </span>
                </a>
              </li>
            ))}
          </ul>
        </section>
      )}

      <!-- Projects -->
      <section>
        <h2 class="text-sm font-medium uppercase tracking-wider text-muted-foreground mb-4">
          <a href="/projects/" class="hover:text-foreground">Projects</a>
        </h2>
        <ul class="space-y-2">
          <li>
            <a
              href="https://market-cap-tracker.vercel.app/"
              target="_blank"
              rel="noopener"
              class="group flex items-baseline gap-3 py-1"
            >
              <span class="text-foreground group-hover:underline decoration-1 underline-offset-2">
                NVIDIA vs Crypto Market Cap Tracker
              </span>
              <span class="text-sm text-muted-foreground">↗</span>
            </a>
          </li>
          <li>
            <a
              href="https://sp100-financial-tracker.pages.dev/"
              target="_blank"
              rel="noopener"
              class="group flex items-baseline gap-3 py-1"
            >
              <span class="text-foreground group-hover:underline decoration-1 underline-offset-2">
                SP100 Financial Tracker
              </span>
              <span class="text-sm text-muted-foreground">↗</span>
            </a>
          </li>
        </ul>
      </section>

      <!-- Contact -->
      <section>
        <h2 class="text-sm font-medium uppercase tracking-wider text-muted-foreground mb-4">
          Contact
        </h2>
        <ul class="space-y-2">
          <li>
            <a href="/subscribe" class="group flex items-baseline gap-3 py-1">
              <span class="text-foreground group-hover:underline decoration-1 underline-offset-2">
                Contact (Substack, X, LinkedIn, GitHub)
              </span>
            </a>
          </li>
        </ul>
      </section>
    </div>
  </div>
</BaseLayout>
