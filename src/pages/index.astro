---
import BaseLayout from '@/layouts/BaseLayout.astro'
import { getCollection } from 'astro:content'

// Get recent journal posts.
const allPosts = await getCollection('blog')
const journalPosts = allPosts
  .filter(post => post.data.category !== 'Links')
  .sort((a, b) => b.data.publishDate.valueOf() - a.data.publishDate.valueOf())
  .slice(0, 5)
---

<BaseLayout 
  title="Gökhan Turhan"
  description="Strategic Innovation Architect exploring stablecoins, AGI, tokenization, and investment strategies. Turning global systemic challenges into high-leverage opportunities through technology and foresight."
>
  <div class="mx-auto max-w-5xl px-6 py-12 lg:py-20">
    <section class="mb-10 lg:mb-14">
      <h1 class="font-serif text-4xl md:text-5xl tracking-tight mb-4 text-foreground">
        Gökhan Turhan
      </h1>
      <p class="text-xl text-muted-foreground max-w-[65ch] leading-relaxed mb-0">
        T-shaped generalist exploring stablecoins, DeFi mechanics, and deep tech.
        Focused on AGI timelines, tokenization strategies, and turning global
        systemic challenges into high-leverage opportunities.
      </p>
    </section>

    <div class="space-y-5">
      {journalPosts.length > 0 && (
        <section class="rounded-xl border border-border bg-card/40 p-6 md:p-7">
          <h2 class="text-sm font-medium uppercase tracking-wider text-muted-foreground mb-4">
            <a href="/journal/" class="hover:text-foreground">Journal</a>
          </h2>
          <ul class="space-y-3">
            {journalPosts.map((post) => (
              <li>
                <a
                  href={`/journal/${post.slug}/`}
                  class="group flex flex-col gap-1 rounded-md px-2 py-1 transition-colors hover:bg-muted/50 sm:flex-row sm:items-baseline sm:justify-between"
                >
                  <span class="text-foreground group-hover:underline decoration-1 underline-offset-2">
                    {post.data.title}
                  </span>
                  <span class="text-sm text-muted-foreground shrink-0">
                    {post.data.publishDate.toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}
                  </span>
                </a>
              </li>
            ))}
          </ul>
        </section>
      )}

      <div class="grid gap-5 md:grid-cols-2">
        <section class="rounded-xl border border-border bg-card/40 p-6 md:p-7">
          <h2 class="text-sm font-medium uppercase tracking-wider text-muted-foreground mb-4">
            <a href="/projects/" class="hover:text-foreground">Projects</a>
          </h2>
          <ul class="space-y-3">
            <li>
              <a
                href="https://market-cap-tracker.vercel.app/"
                target="_blank"
                rel="noopener"
                class="group flex items-baseline justify-between rounded-md px-2 py-1 transition-colors hover:bg-muted/50"
              >
                <span class="text-foreground group-hover:underline decoration-1 underline-offset-2">
                  NVIDIA vs Crypto Market Cap Tracker
                </span>
                <span class="text-sm text-muted-foreground">↗</span>
              </a>
            </li>
            <li>
              <a
                href="https://sp100-financial-tracker.pages.dev/"
                target="_blank"
                rel="noopener"
                class="group flex items-baseline justify-between rounded-md px-2 py-1 transition-colors hover:bg-muted/50"
              >
                <span class="text-foreground group-hover:underline decoration-1 underline-offset-2">
                  SP100 Financial Tracker
                </span>
                <span class="text-sm text-muted-foreground">↗</span>
              </a>
            </li>
          </ul>
        </section>

        <section class="rounded-xl border border-border bg-card/40 p-6 md:p-7">
          <h2 class="text-sm font-medium uppercase tracking-wider text-muted-foreground mb-4">
            Contact
          </h2>
          <p class="text-muted-foreground mb-4">
            Subscribe on Substack and reach me via X, LinkedIn, and GitHub.
          </p>
          <a
            href="/subscribe"
            class="inline-flex items-center rounded-md border border-border bg-background px-4 py-2 text-foreground transition-colors hover:bg-muted/50"
          >
            Open contact page
          </a>
        </section>
      </div>
    </div>
  </div>
</BaseLayout>
